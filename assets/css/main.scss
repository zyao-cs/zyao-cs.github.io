---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* =========================================================
   AcademicPages 简洁稳定版（全白背景 + Times + 正文加宽，减少过早换行）
   功能：
   1）全站白色背景
   2）Times 字体
   3）紧凑排版
   4）正文尽量加宽（减少 Publication 过早换行）
   放在 assets/css/main.scss 最底部
   ========================================================= */

/* 1）基础字号 */
html {
  font-size: 15px;
}

/* 2）全站白色背景 */
body {
  background: #ffffff !important;
  font-family: "Times New Roman", Times, serif;
  font-size: 0.95rem;
  line-height: 1.55;
  color: #222;
}

/* 3）确保所有容器也是白色（防止主题自带灰） */
.masthead,
.footer,
.page,
.page__inner-wrap,
.archive__inner-wrap,
.initial-content {
  background: #ffffff !important;
}

/* 4）整体内容区域最大宽度（更开阔；想更宽可调大） */
.initial-content,
.masthead__inner-wrap,
.footer__inner-wrap {
  max-width: 1700px !important;   /* 建议 1600~1900，越大越不早换行 */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* 5）减少垂直留白（更紧凑） */
p { margin: 0 0 0.65em; }
ul, ol { margin: 0 0 0.75em; }
li { margin-bottom: 0.15em; }
hr { margin: 1em 0; }

.page__content { margin-top: 0.6em; }
.page__content > :first-child { margin-top: 0; }

/* 6）标题微调 */
.page__title { font-size: 1.8rem; margin-bottom: 0.4em; }
h1 { font-size: 1.8rem; margin: 0.9em 0 0.35em; }
h2 { font-size: 1.35rem; margin: 0.9em 0 0.35em; }
h3 { font-size: 1.15rem; margin: 0.8em 0 0.3em; }

/* =========================================================
   7）桌面端布局优化：正文尽量加宽（关键）
   ========================================================= */
@media (min-width: 64em) {

  /* 侧栏再窄一点，给正文让空间（可调 160~200） */
  .sidebar {
    width: 180px !important;
    padding-right: 12px !important;
  }

  /* 正文吃满剩余宽度（关键：不要 max-width 限制） */
  .page__content {
    width: calc(100% - 180px) !important;
    max-width: none !important;     /* 关键：取消 1000px 限制，避免过早换行 */
    margin-left: 0 !important;
  }
}

/* 8）Publication 列表紧凑 */
.archive__item { margin-bottom: 0.65em; }
.archive__item-title { font-size: 1.05rem; line-height: 1.35; }
.archive__item-excerpt { font-size: 0.92rem; }

/* 9）表格与代码略小 */
table { font-size: 0.92rem; }
pre, code { font-size: 0.9em; }

/* 10）头像大小 */
.author__avatar img {
  max-width: 135px !important;
}

/* ===============================
   额外补丁：彻底解除正文区域的 max-width 限制 + 减少左右 padding
   放在 main.scss 最底部（在你现有代码之后）
   =============================== */

/* A) 解除常见外层容器的宽度限制（很多主题是卡在这里） */
.page,
.archive,
.layout--single,
.layout--single .page__inner-wrap,
.layout--archive .archive__inner-wrap,
.page__inner-wrap,
.archive__inner-wrap {
  max-width: none !important;
}

/* B) 把整体内容区域再加宽一点，并缩小左右内边距 */
.initial-content,
.page__inner-wrap,
.archive__inner-wrap {
  width: 100% !important;
  padding-left: 18px !important;   /* 可改 12~24 */
  padding-right: 18px !important;
}

/* C) 桌面端：用 flex 让正文吃满剩余宽度（比 calc 更稳） */
@media (min-width: 64em) {
  .page__inner-wrap,
  .archive__inner-wrap {
    display: flex !important;
    align-items: flex-start;
  }

  .sidebar {
    flex: 0 0 180px !important;     /* 侧栏固定宽 */
    width: 180px !important;
  }

  .page__content {
    flex: 1 1 auto !important;      /* 正文自动吃满剩余 */
    width: auto !important;
    max-width: none !important;
    min-width: 0 !important;        /* 关键：避免 flex 子项溢出导致奇怪换行 */
  }
}

/* D) Publication 标题/条目区域，避免被额外 max-width 限制 */
.archive__item,
.archive__item-title,
.archive__item-excerpt {
  max-width: none !important;
}
